@using Ammeep.GiftRegister.Web
@using Ammeep.GiftRegister.Web.Models
@model EditableGiftPage

@{
    ViewBag.Title = "Add Item";
    Layout = "../Shared/_AdminLayout.cshtml";
}

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/knockout-2.0.0.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/site.js")" type="text/javascript"></script>

<div class="manage_header"> </div>
<div class="login_flag"> <h2>Add Item</h2></div>
<div class="content">
    <div class="admin_content">
   
        <p>Add in gift details, and once you are happy with the live preview, just hit save.</br>
        <span class="important_lable">Important</span> For all Urls please include 'http://' there is a bug which I cant be bothered fixing right now, and this avoids it :D</p>
             
        @using (Html.BeginForm()) {
            @Html.ValidationSummary()
            @Html.Partial("EditableGift", Model)
 
            <div class="right">               
                <input type="submit" class="btn save_button" value="" />
                @Html.ActionLink("Cancel", "Index")
            </div>
        }
       
    </div>
</div>
<script type="text/javascript">

    ko.applyBindings(new GiftViewModel("@Html.JavaScriptEncode(@Model.Gift.Name)",
                                       "@Html.JavaScriptEncode(@Model.Gift.ImageLocation)",
                                       "@Html.JavaScriptEncode(@Model.Gift.Description)",
                                       "@Html.JavaScriptEncode(@Model.Gift.Website)",
                                       "@Html.JavaScriptEncode(@Model.Gift.SuggestedStores)",
                                       "@Model.Gift.SpecificItemRequried",
                                       "@Model.Gift.QuantityRequired",
                                       "@Model.Gift.RetailPrice"));
   
</script>
